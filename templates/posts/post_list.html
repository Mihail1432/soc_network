{% extends 'base.html' %}

{% block title %}Посты{% endblock %}

{% block content %}
    <div class="text-center mt-4">
        <h2>Посты</h2>
    </div>


            {% if user.is_authenticated %}
                <a href="{% url 'post_create' %}">Создать пост</a> 
            {% endif %}



    {% for post in posts %}
        <div class="post">

            
            <div class="post-header">
                <span><strong>{{ post.user.username }}</strong></span>
                <span>{{ post.likes.count }}     <a href="{% url 'like_post' post.id %}">{{ is_liked|yesno:"Unlike,Like" }}</a> | {{ post.comments.count }} <a href="{% url 'post_detail' post.id %}" class="comment-link">Комментариев</a></span>
            </div>
            <img src="{{ post.image.url }}" alt="Пост" class="img-fluid mt-2" style="border-radius: 10px;">
            <div class="mt-2">
                <p>{{ post.text }}</p>
            </div>
        </div>
    {% empty %}
        <p class="text-center">Постов пока нет.</p>
    {% endfor %}
{% endblock %}
